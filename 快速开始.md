# WPIC å›¾åºŠåç«¯ - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# ç¡®ä¿Pythonç‰ˆæœ¬ 3.8+
python --version

# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®åˆ°æœ¬åœ°
# è¿›å…¥é¡¹ç›®ç›®å½•
cd wpic
```

### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒ
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config.example.env .env

# ç¼–è¾‘é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤é…ç½®å³å¯è¿è¡Œï¼‰
# nano .env
```

### 4. å¯åŠ¨æœåŠ¡
```bash
# ç›´æ¥è¿è¡Œ
python main.py

# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
chmod +x run.sh
./run.sh

# æˆ–ä½¿ç”¨Docker
docker-compose up -d
```

### 5. è®¿é—®æœåŠ¡
- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/health
- **æœåŠ¡ä¿¡æ¯**: http://localhost:8000/info

## ğŸ§ª åŠŸèƒ½æµ‹è¯•

### æ–¹å¼1ï¼šä½¿ç”¨APIæ–‡æ¡£ç•Œé¢
1. æ‰“å¼€ http://localhost:8000/docs
2. ç‚¹å‡» "Try it out" æŒ‰é’®æµ‹è¯•å„ä¸ªæ¥å£

### æ–¹å¼2ï¼šä½¿ç”¨æµ‹è¯•è„šæœ¬
```bash
python test_api.py
```

### æ–¹å¼3ï¼šä½¿ç”¨HTTPæ–‡ä»¶
åœ¨VS Codeä¸­å®‰è£…REST Clientæ’ä»¶ï¼Œç„¶åæ‰“å¼€ `test_main.http` æ–‡ä»¶è¿›è¡Œæµ‹è¯•ã€‚

## ğŸ“‹ ä¸»è¦åŠŸèƒ½éªŒè¯

### 1. ç”¨æˆ·æ³¨å†Œ
```bash
curl -X POST "http://localhost:8000/api/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com", 
    "password": "password123"
  }'
```

### 2. ç”¨æˆ·ç™»å½•
```bash
curl -X POST "http://localhost:8000/api/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=testuser&password=password123"
```

### 3. ä¸Šä¼ å›¾ç‰‡
```bash
curl -X POST "http://localhost:8000/api/files/upload" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "file=@your_image.jpg"
```

### 4. æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
```bash
curl -X GET "http://localhost:8000/api/files/" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ğŸ”§ é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®
```env
# åº”ç”¨é…ç½®
APP_HOST=0.0.0.0
APP_PORT=8000
APP_DEBUG=false

# æ•°æ®åº“ï¼ˆé»˜è®¤SQLiteï¼‰
DB_DATABASE_URL=sqlite:///./wpic.db

# Redisç¼“å­˜ï¼ˆå¯é€‰ï¼‰
REDIS_HOST=localhost
REDIS_PORT=6379

# å®‰å…¨é…ç½®
SECURITY_SECRET_KEY=your-secret-key
SECURITY_ENABLE_AUTH=true
```

### å­˜å‚¨é…ç½®

#### æœ¬åœ°å­˜å‚¨ï¼ˆé»˜è®¤ï¼‰
```env
STORAGE_LOCAL_BASE_PATH=./uploads
```

#### S3å­˜å‚¨
```env
STORAGE_S3_ACCESS_KEY=your-access-key
STORAGE_S3_SECRET_KEY=your-secret-key
STORAGE_S3_BUCKET=your-bucket
STORAGE_S3_REGION=us-east-1
```

#### WebDAVå­˜å‚¨
```env
STORAGE_WEBDAV_URL=https://your-webdav-server.com
STORAGE_WEBDAV_USERNAME=username
STORAGE_WEBDAV_PASSWORD=password
```

## â“ å¸¸è§é—®é¢˜

### Q: å¯åŠ¨æ—¶æŠ¥é”™ "ModuleNotFoundError"
A: è¯·ç¡®ä¿å·²å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š`pip install -r requirements.txt`

### Q: Redisè¿æ¥å¤±è´¥
A: 
1. ç¡®ä¿RedisæœåŠ¡å·²å¯åŠ¨
2. æ£€æŸ¥Redisé…ç½®æ˜¯å¦æ­£ç¡®
3. æˆ–è€…æš‚æ—¶æ³¨é‡Šæ‰Redisç›¸å…³é…ç½®

### Q: æ•°æ®åº“è¿æ¥é”™è¯¯
A: é»˜è®¤ä½¿ç”¨SQLiteï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚å¦‚ä½¿ç”¨PostgreSQL/MySQLï¼Œè¯·ç¡®ä¿æ•°æ®åº“æœåŠ¡è¿è¡Œæ­£å¸¸ã€‚

### Q: æ–‡ä»¶ä¸Šä¼ å¤±è´¥
A: 
1. æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
2. ç¡®è®¤æ–‡ä»¶å¤§å°æœªè¶…é™
3. éªŒè¯æ–‡ä»¶æ ¼å¼æ˜¯å¦æ”¯æŒ

### Q: å›¾ç‰‡ç¼©ç•¥å›¾ç”Ÿæˆå¤±è´¥
A: ç¡®ä¿å·²å®‰è£…PIL/Pillowå›¾åƒå¤„ç†åº“

## ğŸ› ï¸ å¼€å‘æ¨¡å¼

### å¯ç”¨è°ƒè¯•æ¨¡å¼
```env
APP_DEBUG=true
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# ç›´æ¥è¿è¡Œå¯çœ‹åˆ°è¯¦ç»†æ—¥å¿—
python main.py

# æˆ–ä½¿ç”¨uvicorn
uvicorn main:app --reload --log-level debug
```

### æ•°æ®åº“æ“ä½œ
```python
# è¿›å…¥Pythonäº¤äº’ç¯å¢ƒ
python

# åˆ›å»ºæ•°æ®åº“è¡¨
from app.database import create_all_tables
import asyncio
asyncio.run(create_all_tables())
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç”Ÿäº§ç¯å¢ƒå»ºè®®
1. ä½¿ç”¨PostgreSQLæˆ–MySQLæ•°æ®åº“
2. é…ç½®Redisç¼“å­˜
3. ä½¿ç”¨åå‘ä»£ç†ï¼ˆNginxï¼‰
4. å¯ç”¨HTTPS
5. é…ç½®CDNåŠ é€Ÿ

### ç›‘æ§å’Œæ—¥å¿—
- å¥åº·æ£€æŸ¥: `/health`
- ç³»ç»Ÿä¿¡æ¯: `/info`
- APIæ–‡æ¡£: `/docs`

## ğŸ¤ è·å–å¸®åŠ©

1. æŸ¥çœ‹å®Œæ•´æ–‡æ¡£: `README.md`
2. æ£€æŸ¥APIæ–‡æ¡£: http://localhost:8000/docs
3. æŸ¥çœ‹é…ç½®ç¤ºä¾‹: `config.example.env`
4. è¿è¡Œæµ‹è¯•è„šæœ¬: `python test_api.py`

---

ğŸ‰ **æ­å–œï¼** ä½ çš„WPICå›¾åºŠåç«¯å·²ç»æˆåŠŸè¿è¡Œï¼
